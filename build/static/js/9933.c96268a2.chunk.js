(self.webpackChunktradersplus=self.webpackChunktradersplus||[]).push([[9933],{40557:function(e,t,n){"use strict";n.d(t,{HP:function(){return u},MM:function(){return c},he:function(){return i},qY:function(){return o},vu:function(){return a}});var r=n(6713),o=function(e){(0,r.hi)().get("/plan/getAll-admin").then((function(t){var n=t.data;return t.status?e(!0,n):e(!1,t)})).catch((function(t){return console.log(t),e(!1,t)}))},a=function(e){(0,r.hi)().get("/plan/getAll-admin").then((function(t){var n=t.data,r=t.status;return e(!!r,n)})).catch((function(t){return console.log(t),e(!1,t)}))},i=function(e,t){(0,r.hi)().post("/plan/add",e).then((function(e){var n=e.data,r=e.status;return t(!!r,n)})).catch((function(e){return console.log(e),t(!1,e)}))},c=function(e,t){(0,r.hi)().post("/plan/edit",e).then((function(e){var n=e,r=e.status;return t(!!r,n)})).catch((function(e){return console.log(e),t(!1,e)}))},u=function(e,t){(0,r.hi)().post("/plan/edit-type",e).then((function(e){var n=e.data,r=e.status;return t(!!r,n)})).catch((function(e){return console.log(e),t(!1,e)}))}},41319:function(e,t,n){"use strict";n.d(t,{R:function(){return o},z:function(){return a}});var r=n(6713),o=function(e,t,n){(0,r.v5)().get("/admin/users-report?skip=".concat(e,"&limit=").concat(t)).then((function(e){var t=e.data;return e.status?n(!0,t):n(!1,e)})).catch((function(e){return console.log(e),n(!1,e)}))},a=function(e,t){(0,r.J7)().get("/user/getUserByPhoneNumber/".concat(e)).then((function(e){var n=e.data;return e.status?t(!0,n):t(!1,e)})).catch((function(e){return console.log(e),t(!1,e)}))}},27409:function(e,t,n){"use strict";n.d(t,{GL:function(){return l},JS:function(){return c},Sq:function(){return s},at:function(){return d},oj:function(){return p},tA:function(){return f},vo:function(){return u},x6:function(){return i}});var r=n(30577),o=n(83839),a=n.n(o);function i(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var c=function(e){var t=e.split("T")[0],n=new Date(t),r=n.getFullYear(),o=n.getMonth()+1,i=n.getDate(),c="".concat(r,"/").concat(o,"/").concat(i);return a()(c,"YYYY/MM/DD").locale("fa").format("YYYY/MM/DD")},u=function(e){var t=e.amount,n=e.period,o=e.discount;return 0===t.length?(r.Am.error("\u0645\u0628\u0644\u063a \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f"),!1):NaN===!parseInt(t)||parseInt(t)<0?(r.Am.error("\u0645\u0628\u0644\u063a \u0628\u0627\u06cc\u062f \u06cc\u06a9 \u0639\u062f\u062f \u0645\u062b\u0628\u062a \u0628\u0627\u0634\u062f"),!1):0===n.length?(r.Am.error("\u0645\u062f\u062a \u0632\u0645\u0627\u0646 \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f"),!1):NaN===parseInt(n)||parseInt(n)<0?(r.Am.error("\u0645\u062f\u062a \u0632\u0645\u0627\u0646 \u0628\u0627\u06cc\u062f \u06cc\u06a9 \u0639\u062f\u062f \u0645\u062b\u0628\u062a \u0628\u0627\u0634\u062f"),!1):0===o.length?(r.Am.error("\u062a\u062e\u0641\u06cc\u0641 \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f"),!1):!(NaN===parseInt(o)||parseInt(o)<0)||(console.log(parseInt(o)),r.Am.error(" \u062a\u062e\u0641\u06cc\u0641 \u0628\u0627\u06cc\u062f \u06cc\u06a9 \u0639\u062f\u062f \u0645\u062b\u0628\u062a \u0628\u0627\u0634\u062f"),!1)},l=function(e){return a().locale("fa",{useGregorianParser:!0}),a()(e).format("yyyy/M/D")},s=function(e){return a().locale("fa",{useGregorianParser:!0}),a()(e).format("YYYY/MM/DD HH:MM:ss")},f=function(e){return"less than 30"===e?"\u06a9\u0645\u062a\u0631 \u0627\u0632 30 \u0633\u0627\u0644":"between 30 and 40"===e?"\u0628\u06cc\u0646 30 \u0633\u0627\u0644 \u062a\u0627 40 \u0633\u0627\u0644":"more than 40"===e?"\u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 40 \u0633\u0627\u0644":void 0},p=function(e){return"less than 100 million toman"===e?"\u06a9\u0645\u062a\u0631 \u0627\u0632 100 \u0645\u06cc\u0644\u06cc\u0648\u0646 \u062a\u0648\u0645\u0627\u0646":"between 100 and 500 million toman"===e?"\u0628\u06cc\u0646 100 \u0648 500 \u0645\u06cc\u0644\u06cc\u0648\u0646 \u062a\u0648\u0645\u0627\u0646":"more than 500 million toman"===e?"\u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 500 \u0645\u06cc\u0644\u06cc\u0648\u0646 \u062a\u0648\u0645\u0627\u0646":void 0},d=function(e){return"short term"===e?"\u06a9\u0648\u062a\u0627\u0647 \u0645\u062f\u062a":"mid term"===e?"\u0645\u06cc\u0627\u0646 \u0645\u062f\u062a":"long term"===e?"\u0628\u0644\u0646\u062f \u0645\u062f\u062a":void 0}},19933:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(29439),o=n(72791),a=n(36090),i=n(83099),c=n(37382),u=n(87309),l=n(26772),s=n(41319),f=n(30577),p={mainContainer:"userByPhoneNumber_mainContainer__tutAE",firstContainer:"userByPhoneNumber_firstContainer__SqCnh"},d=n(27409),y=n(37295),m=n(40557),h=n(66784),b=n(66495),g=(n(16030),n(80184)),v=function(e){var t=e.userPlans,n=e.allPlans,a=(0,o.useState)(!1),i=(0,r.Z)(a,2),c=i[0],l=i[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{type:"text",onClick:function(){l(!0)},children:"\u067e\u0644\u0646 \u0647\u0627"}),(0,g.jsx)(h.Z,{centered:!0,bodyStyle:{overflow:"auto",height:"500px"},zIndex:1200,title:"\u062a\u0631\u0627\u06a9\u0646\u0634 \u0647\u0627",visible:c,okText:"\u0628\u0633\u062a\u0646",onCancel:function(){l(!1)},onOk:function(){l(!1)},cancelButtonProps:{style:{display:"none"}},children:(0,g.jsxs)("table",{className:b.Z.table,children:[(0,g.jsx)("thead",{children:(0,g.jsx)("tr",{children:(0,g.jsx)("th",{children:"\u0646\u0627\u0645 \u067e\u0644\u0646"})})}),t.map((function(e){var t=n.find((function(t){return t._id===e.planId}));return(0,g.jsx)("tbody",{children:(0,g.jsx)("tr",{children:(0,g.jsxs)("td",{children:[t.name," "]})})},e._id)}))]})})]})},x=n(78029),C=function(){var e=(0,o.useRef)(),t=(0,o.useState)(""),n=(0,r.Z)(t,2),h=n[0],b=n[1],C=(0,o.useState)([{key:"",name:"",family:"",isActive:"",fcm:"",fcmExpireDate:"",plans:[],web_notification_token:"",web_notification_token_date:""}]),w=(0,r.Z)(C,2),k=w[0],j=w[1],_=(0,o.useState)([]),O=(0,r.Z)(_,2),D=O[0],P=O[1],S=(0,o.useState)(0),A=(0,r.Z)(S,2),E=(A[0],A[1],(0,o.useState)(!1)),I=(0,r.Z)(E,2),N=I[0],Z=I[1],T=(0,o.useState)(!1),R=(0,r.Z)(T,2),M=R[0],Y=R[1],B=(0,o.useState)(!1),U=(0,r.Z)(B,2),z=U[0],q=U[1];(0,o.useEffect)((function(){(0,m.vu)((function(e,t){if(e)return P(t.response.plans)}))}),[]);var H=function(e){return(0,g.jsx)(a.Z,{children:(0,g.jsx)(a.Z.Item,{children:(0,g.jsx)(v,{allPlans:D,userPlans:k[0].plans})},e.key)})},F=[{title:"\u0639\u0645\u0644\u06cc\u0627\u062a",key:"operation",align:"right",render:function(e){return(0,g.jsx)(i.Z,{size:"middle",children:(0,g.jsx)(c.Z,{overlay:H(e),trigger:["click"],children:(0,g.jsxs)("a",{className:p.link,children:[(0,g.jsx)(y.Z,{})," \u0628\u06cc\u0634\u062a\u0631"]})})})}},{title:"\u0634\u0646\u0627\u0633\u0647",dataIndex:"_id",key:"_id",align:"right"},{title:"\u0627\u06cc\u0645\u06cc\u0644",dataIndex:"email",key:"email",className:"headerOfTable",align:"right"},{title:"\u0646\u0627\u0645\u200c\u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",dataIndex:"family",key:"LastName",align:"right"},{title:"\u0646\u0627\u0645",dataIndex:"name",key:"FirstName",className:"headerOfTable",align:"right"},{title:"fcm",dataIndex:"fcm",key:"fcm",align:"right",render:function(e){return(0,g.jsx)(x.CopyToClipboard,{text:k[0].fcm,onCopy:function(){return Y(!0)},children:(0,g.jsx)(u.Z,{type:"text",style:M?{backgroundColor:"green",color:"#ffffff"}:{backgroundColor:"blue",color:"#ffffff"},children:"copy fcm"})})}},{title:"\u062a\u0627\u0631\u06cc\u062e \u0627\u0646\u0642\u0636\u0627 fcm",dataIndex:"fcmExpireDate",key:"fcmExpireDate",align:"right"},{title:"web notification token",dataIndex:"web_notification_token",key:"webNotificationToken",align:"right",render:function(e){return(0,g.jsx)(x.CopyToClipboard,{text:k[0].web_notification_token,onCopy:function(){return q(!0)},children:(0,g.jsx)(u.Z,{type:"text",style:z?{backgroundColor:"green",color:"#ffffff"}:{backgroundColor:"blue",color:"#ffffff"},children:"copy notification token"})})}},{title:"\u062a\u0627\u0631\u06cc\u062e \u0627\u0646\u0642\u0636\u0627 token",dataIndex:"web_notification_token_date",key:"web_notification_token_date",className:"headerOfTable",align:"right"},{title:"isActive",dataIndex:"isActive",key:"isActive",align:"right"}];return(0,g.jsxs)("div",{className:p.mainContainer,children:[(0,g.jsxs)("div",{className:p.firstContainer,children:[(0,g.jsx)(u.Z,{type:"button",onClick:function(e){(e.preventDefault(),11==String(h).length||(f.Am.warn("\u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644 \u0628\u0627\u06cc\u062f 11 \u0631\u0642\u0645\u06cc \u0628\u0627\u0634\u062f"),0))&&(0,s.z)(h,(function(e,t){if(e){console.log(t.response);var n=t.response;return j([{key:n._id,_id:n._id,name:n.name?n.name:"",family:n.family?n.family:"",isActive:n.isActive="\u0641\u0639\u0627\u0644",fcm:n.fcm?n.fcm.token:" ",fcmExpireDate:n.fcm?(0,d.Sq)(n.fcm.expireDate):"",plans:n.plans.length>0?n.plans:[],web_notification_token_date:n.web_notification_token_date,web_notification_token:n.web_notification_token}]),Z(!0)}return f.Am.error(t.response.data.message)}))},children:"\u062c\u0633\u062a\u062c\u0648"}),(0,g.jsx)("input",{type:"text",name:"phoneNumber",value:h,onChange:function(e){b(e.target.value)},placeholder:"\u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,g.jsx)("textarea",{style:{display:"none"},ref:e})]}),(0,g.jsx)("div",{className:p.secondContainer,style:N?{display:"block"}:{display:"none"},children:(0,g.jsx)(l.Z,{columns:F,dataSource:k})})]})}},76998:function(e,t,n){"use strict";var r=n(42458),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,i,c,u,l,s=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),c=document.createRange(),u=document.getSelection(),(l=document.createElement("span")).textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=o[t.format]||o.default;window.clipboardData.setData(a,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),c.selectNodeContents(l),u.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(c):u.removeAllRanges()),l&&document.body.removeChild(l),i()}return s}},568:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var o=c(n(72791)),a=c(n(76998)),i=["text","onCopy","options","children"];function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,n,r,c=d(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(y(e=c.call.apply(c,[this].concat(n))),"onClick",(function(t){var n=e.props,r=n.text,i=n.onCopy,c=n.children,u=n.options,l=o.default.Children.only(c),s=(0,a.default)(r,u);i&&i(r,s),l&&l.props&&"function"===typeof l.props.onClick&&l.props.onClick(t)})),e}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=s(e,i),r=o.default.Children.only(t);return o.default.cloneElement(r,l(l({},n),{},{onClick:this.onClick}))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(o.default.PureComponent);t.CopyToClipboard=b,h(b,"defaultProps",{onCopy:void 0,options:void 0})},78029:function(e,t,n){"use strict";var r=n(568).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},42458:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},66495:function(e,t){"use strict";t.Z={table:"usersPlansModal_table__ky2IZ"}}}]);
//# sourceMappingURL=9933.c96268a2.chunk.js.map