{"version":3,"file":"static/js/9786.0f4b6361.chunk.js","mappings":"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","sources":["api/categoryApi.js","webpack://tradersplus/./src/views/tradersplusComponents/Categories/addCategory.module.css?ec2f","views/tradersplusComponents/Categories/AddCategory.js","views/tradersplusComponents/helperComponets/ImageUploader.js"],"sourcesContent":["import {api ,apiWithHeader, apiWithTokenHeader } from \"./api\"\n\nexport const getCategories = (callback) => {\n    api().get(\"/category/getAll\").then((response) => {\n        const data = response.data\n        const status = response.status\n        if(status){\n            return callback(true ,data)\n        }\n        return callback(false ,data)\n    }).catch(err => {\n        console.log(err);\n        return callback(false ,err)\n    })\n}\n\nexport const createCategory = (data ,callback) => {\n    api().post(\"/category/add\" ,data).then((response) => {\n        const data = response\n        const status = response.status\n        if(status){\n            return callback(true ,data)\n        }\n        return callback(false ,data)\n    }).catch(err => {\n        console.log(err);\n        return callback(false ,err)\n    })\n}\n\nexport const activateCategory = (data ,callback) => {\n    apiWithTokenHeader().post(\"/category/activation\" ,data).then((response) => {\n        const data = response\n        const status = response.status\n        if(status){\n            return callback(true ,data)\n        }\n        return callback(false ,data)\n    }).catch(err => {\n        console.log(err);\n        return callback(false ,err)\n    })\n}\n\nexport const editCategory = (data ,callback) => {\n    api().post(\"/category/edit\" ,data).then((response) => {\n        const data = response\n        const status = response.status\n        if(status){\n            return callback(true ,data)\n        }\n        return callback(false ,data)\n    }).catch(err => {\n        console.log(err);\n        return callback(false ,err)\n    })\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"formContainer\":\"addCategory_formContainer__z0dXj\"};","import { Button, Select } from 'antd';\nimport React from 'react';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\n\nimport {Form} from \"react-bootstrap\"\nimport { toast } from 'react-toastify';\n\nimport {createCategory } from 'src/api/categoryApi';\n\nimport styles from \"./addCategory.module.css\";\nimport ImageUploader from '../helperComponets/ImageUploader';\n\nconst AddCategory = () => {\n\n    const { Option } = Select;\n\n    const [loadingBtn ,setLoadingBtn] = useState(false)\n    const [selectedType ,setSelectedType] = useState(\"\")\n    const [icon ,setIcon] = useState({})\n    const [categoryData ,setCategoryData] = useState({\n        type:\"\",\n        name:\"\",\n        password:\"sefryek3914!@#$\",\n    })\n\n    const changeTypeHandler = (e) => {\n          setSelectedType(e)\n    }\n\n    const channelChangeHandler = (e) => {\n        setCategoryData({...categoryData ,[e.target.name]:e.target.value})\n    }\n\n    const submitHandler = (e) => {\n        setLoadingBtn(true)\n      e.preventDefault()\n      const formData = new FormData()\n\n      formData.append(\"name\" ,categoryData.name)\n      formData.append(\"type\" ,selectedType)\n      formData.append(\"icon\" ,icon)\n      formData.append(\"password\" ,categoryData.password)\n\n      createCategory(formData ,(isOk ,data) => {\n        if(isOk){\n            toast.success(\"دسه بندی جدید با موفقیت اضافه شد\")\n            setCategoryData({\n                type:\"\",\n                name:\"\",\n                password:\"sefryek3914!@#$\",\n            })\n            setSelectedType(\"\")\n            setLoadingBtn(false)\n            return console.log(data);\n        }\n        setLoadingBtn(false)\n        return toast.error(\"خطا در ساخت دسته بندی جدید\")\n      })\n    }\n\n    return ( \n        \n            <Form onSubmit={submitHandler} className = {styles.formContainer} >\n                <Form.Group className=\"mb-3 w-100\" controlId=\"exampleForm.ControlInput1\">\n                   \n                    <Form.Control onChange={channelChangeHandler} value={categoryData.name} type=\"text\" name='name' dir='rtl' placeholder=\"نام دسته بندی\" className='w-100' />\n                </Form.Group>\n                <Form.Group className=\"mb-3 w-100\" controlId=\"exampleForm.ControlTextarea1\">\n                    \n                <Select dir='rtl'  defaultValue={'نوع دسته بندی'}  name='type' onChange={changeTypeHandler}  className=\"mt-3 w-100 rtl\" >\n                    <Option dir=\"rtl\"  value={\"info\"} className=\"pe-3\" >info</Option>\n                    <Option dir=\"rtl\"  value={\"channel\"} className=\"pe-3\" >channel</Option>\n                </Select>\n                </Form.Group>\n            \n                <div className=\"w-100 mt-3 mb-5\">\n                <ImageUploader setIcon={setIcon}  width={\"80%\"} height={\"300px\"}  />\n                    \n                </div>\n                <div className=\"col-md-2 w-100 d-flex justify-content-end \">      \n                    <Button\n                        type=\"primary\"\n                        loading={loadingBtn}\n                        onClick={submitHandler}\n                        className=\"mb-2\"\n                    >\n                    اضافه کردن\n                    </Button>\n                </div>\n            </Form>\n        \n     );\n}\n \nexport default AddCategory;","/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport { Upload, message } from 'antd';\nimport { InboxOutlined } from '@ant-design/icons';\n\nimport styles from \"./imageUploader.module.css\";\n\nimport {toast} from \"react-toastify\";\n\nconst ImageUploader = ({setIcon ,height ,width}) => {\n    const { Dragger } = Upload;\n\n    const [image ,setImage] = useState(null)\n\n  const props = {\n    name: 'file',\n    action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n    maxCount:1,\n    onChange(info) {\n      const { status } = info.file;\n      if (status !== 'uploading') {\n        console.log(info);\n        const reader = new FileReader()\n        reader.onload = (e) => {\n          setImage(e.target.result)\n         }\n         \n        reader.readAsDataURL(info.file)\n      }\n      if (status === 'done') {\n        message.success(`${info.file.name} file uploaded successfully.`);\n        \n      } else if (status === 'error') {\n        message.error(`${info.file.name} file upload failed.`);\n      }\n    },\n    onDrop(e) {\n      setIcon(e.dataTransfer.files[0])\n      console.log('Dropped files', e.dataTransfer.files[0]);\n    },\n    beforeUpload (e){\n      console.log(e);\n      if(e.type === \"image/png\" || e.type === \"image/jpeg\" || e.type === \"image/jpg\"){\n        setIcon(e)\n        return false; \n      }\n      setImage(null)\n      toast.warn(\"فرمت عکس باید jpeg یا png باشد\")\n      return true\n    },\n    onRemove(e){\n      setImage(null)\n    }\n  };\n\n  return (\n    <Dragger  {...props} style={{minHeight:height}}  >\n   { image ? \n    <img src={image} alt=\"bannerImage\" style={{width:width ,maxHeight:height ,borderRadius:\"5px\" }} />\n   :\n   <>\n   <p className=\"ant-upload-drag-icon\">\n      <InboxOutlined />\n    </p>\n    <p className=\"ant-upload-text\">برای آپلود عکس کلیک کنید</p>\n    <p className=\"ant-upload-hint\">\n      همپچنین میتوانید عکس مورد نظر را برداشته و درون محدوده مشخص شده رها کنید\n    </p>\n   </>\n    }\n  </Dragger>\n  );\n};\n\nexport default React.memo(ImageUploader)"],"names":["getCategories","callback","api","get","then","response","data","status","catch","err","console","log","createCategory","post","activateCategory","apiWithTokenHeader","editCategory","Option","Select","_useState","useState","_useState2","_slicedToArray","loadingBtn","setLoadingBtn","_useState3","_useState4","selectedType","setSelectedType","_useState5","_useState6","icon","setIcon","_useState7","type","name","password","_useState8","categoryData","setCategoryData","submitHandler","e","preventDefault","formData","FormData","append","isOk","toast","_jsxs","Form","onSubmit","className","styles","children","_jsx","controlId","onChange","_objectSpread","_defineProperty","target","value","dir","placeholder","defaultValue","ImageUploader","width","height","Button","loading","onClick","_ref","Dragger","Upload","image","setImage","props","action","maxCount","info","file","reader","FileReader","onload","result","readAsDataURL","message","concat","onDrop","dataTransfer","files","beforeUpload","onRemove","style","minHeight","src","alt","maxHeight","borderRadius","_Fragment","InboxOutlined","React"],"sourceRoot":""}