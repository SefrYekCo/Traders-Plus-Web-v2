{"version":3,"file":"static/js/4995.263650c0.chunk.js","mappings":"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","sources":["api/NotificationApi.js","webpack://tradersplus/./src/views/tradersplusComponents/Notifications/webNotification.module.css?f986","views/tradersplusComponents/Notifications/WebNotification.js"],"sourcesContent":["import { api , apiWithHeader, apiWithPasswordHeader } from \"./api\";\n\nexport const enableNotification = (data ,callback) => {\n    api().post(`/enable-notif` ,data).then((response) => {\n        const data = response.data\n        console.log(response);\n        return callback(true ,response)\n        }\n    ).catch(err => {\n        console.log(err);\n        return callback(false ,err)\n    })\n}\n\nexport const getNotifications = (callback) => {\n    api().get(`/admin/notification-report` ).then((response) => {\n        const data = response.data\n        console.log(response);\n        return callback(true ,data)\n        }\n    ).catch(err => {\n        console.log(err);\n        return callback(false ,err)\n    })\n}\n\nexport const getWebTokensNotification = (callback) => {\n    apiWithPasswordHeader().get(`/admin/get-notification-token` ).then((response) => {\n        const data = response.data\n        console.log(response);\n        return callback(true ,data)\n        }\n    ).catch(err => {\n        console.log(err);\n        return callback(false ,err)\n    })\n}\n\nexport const sendWebNotification = (data ,callback) => {\n    apiWithPasswordHeader().post(`/admin/send-web-notification` ,data).then((response) => {\n        const data = response.data\n        console.log(response);\n        return callback(true ,data)\n        }\n    ).catch(err => {\n        console.log(err);\n        return callback(false ,err)\n    })\n}\n\nexport const sendLimitedWebNotification = (data ,callback) => {\n    apiWithPasswordHeader().post(`/admin/send-limited-web-notification` ,data).then((response) => {\n        const data = response.data\n        console.log(response);\n        return callback(true ,data)\n        }\n    ).catch(err => {\n        console.log(err);\n        return callback(false ,err)\n    })\n}","// extracted by mini-css-extract-plugin\nexport default {\"formContainer\":\"webNotification_formContainer__OqkrP\",\"link\":\"webNotification_link__Mnmmr\"};","import { Button, Select  } from 'antd';\nimport React from 'react';\nimport { useState } from 'react';\n\nimport {Form} from \"react-bootstrap\"\nimport { toast } from 'react-toastify';\n\nimport { sendWebNotification } from 'src/api/NotificationApi';\n\nimport styles from \"./webNotification.module.css\";\n\n\nconst WebNotification = () => {\n\n    const { Option } = Select;\n\n    const [loadingBtn ,setLoadingBtn] = useState(false)\n    \n    const [notificationData ,setNotificationData] = useState({\n        title:\"\",\n        body:\"\"\n    })\n\n    const [notificationResult ,setNotificationResult] = useState({\n        success:0,\n        failure:0\n    })\n\n    const [showResult , setShowResult] = useState(false)\n\n\n    const changeHandler = (e) => {\n        setNotificationData({...notificationData ,[e.target.name]:e.target.value})\n    }\n\n    const submitHandler = async (e) => {\n        const data = {\n            title:notificationData.title,\n            body:notificationData.body\n        }\n\n        sendWebNotification(data ,(isOk ,info) => {\n            if(isOk) {\n                setNotificationResult({success:info.response.success ,failure:info.response.failure})\n                return setShowResult(true)\n            }\n                return toast.error(\"خطا در ارسال اعلان\")\n        })\n    }\n\n\n    return ( \n        \n            <Form onSubmit={submitHandler} className = {styles.formContainer} >\n                <Form.Group className=\"mb-3 w-100\" controlId=\"exampleForm.ControlInput1\">\n                   \n                    <Form.Control onChange={changeHandler}  value={notificationData.title} type=\"text\" name='title' dir='rtl' placeholder=\"نام پیام\" className='w-100' />\n                </Form.Group>\n                <Form.Group className=\"mb-3 w-100\" controlId=\"exampleForm.ControlTextarea1\">\n                    \n                    <Form.Control onChange={changeHandler} value={notificationData.body} as=\"textarea\" name='body' dir='rtl' placeholder='متن پیام' className='w-100' rows={3} style={{resize:\"none\"}} />\n                </Form.Group>\n            \n                <div className=\"col-md-2 w-100 d-flex justify-content-end mt-3 \">      \n                    <Button\n                        type=\"primary\"\n                        loading={loadingBtn}\n                        onClick={submitHandler}\n                        className=\"mb-2\"\n                    >\n                    ارسال پیام\n                    </Button>\n                </div>\n                {\n                  showResult &&\n                    <div className={styles.showResultContainer}>\n                        <p> ارسال موفق : { notificationResult.success } </p>\n                        <p> ارسال ناموفق : { notificationResult.failure } </p>\n                    </div>\n                }\n            </Form>\n        \n     );\n}\n \nexport default WebNotification;"],"names":["enableNotification","data","callback","api","post","then","response","console","log","catch","err","getNotifications","get","getWebTokensNotification","apiWithPasswordHeader","sendWebNotification","sendLimitedWebNotification","Select","_useState","useState","_useState2","_slicedToArray","loadingBtn","_useState3","title","body","_useState4","notificationData","setNotificationData","_useState5","success","failure","_useState6","notificationResult","setNotificationResult","_useState7","_useState8","showResult","setShowResult","changeHandler","e","_objectSpread","_defineProperty","target","name","value","submitHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","isOk","info","toast","stop","_x","apply","arguments","_jsxs","Form","onSubmit","className","styles","children","_jsx","controlId","onChange","type","dir","placeholder","as","rows","style","resize","Button","loading","onClick"],"sourceRoot":""}