"use strict";(self.webpackChunktradersplus=self.webpackChunktradersplus||[]).push([[8164],{97522:function(n,e,t){t.d(e,{D8:function(){return a},DD:function(){return s},Sz:function(){return c},TH:function(){return i},gm:function(){return r}});var o=t(6713),r=function(n,e){(0,o.hi)().post("/enable-notif",n).then((function(n){n.data;return console.log(n),e(!0,n)})).catch((function(n){return console.log(n),e(!1,n)}))},i=function(n){(0,o.hi)().get("/admin/notification-report").then((function(e){var t=e.data;return console.log(e),n(!0,t)})).catch((function(e){return console.log(e),n(!1,e)}))},a=function(n){(0,o.v5)().get("/admin/get-notification-token").then((function(e){var t=e.data;return console.log(e),n(!0,t)})).catch((function(e){return console.log(e),n(!1,e)}))},c=function(n,e){(0,o.v5)().post("/admin/send-web-notification",n).then((function(n){var t=n.data;return console.log(n),e(!0,t)})).catch((function(n){return console.log(n),e(!1,n)}))},s=function(n,e){(0,o.v5)().post("/admin/send-limited-web-notification",n).then((function(n){var t=n.data;return console.log(n),e(!0,t)})).catch((function(n){return console.log(n),e(!1,n)}))}},88164:function(n,e,t){t.r(e),t.d(e,{default:function(){return v}});var o=t(74165),r=t(93433),i=t(15861),a=t(4942),c=t(1413),s=t(29439),u=t(83734),l=t(87309),f=t(72791),d=t(63027),m=t(30577),h=t(97522),p={formContainer:"webLimitedNotification_formContainer__hgtMh",link:"webLimitedNotification_link__ptfLA"},g=t(80184),v=function(){u.Z.Option;var n=(0,f.useState)(!1),e=(0,s.Z)(n,2),t=e[0],v=(e[1],(0,f.useState)([])),Z=(0,s.Z)(v,2),b=Z[0],x=Z[1],w=(0,f.useState)({title:"",body:""}),C=(0,s.Z)(w,2),j=C[0],y=C[1],k=(0,f.useState)({success:0,failure:0}),N=(0,s.Z)(k,2),S=N[0],_=N[1],D=(0,f.useState)([]),A=(0,s.Z)(D,2),I=A[0],L=A[1],z=(0,f.useState)(!1),F=(0,s.Z)(z,2),G=F[0],T=F[1];(0,f.useEffect)((function(){(0,h.D8)((function(n,e){return n?(console.log(e),L(e.users)):m.Am.error("\u062e\u0637\u0627 \u062f\u0631 \u062f\u0631\u06cc\u0627\u0641\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a")}))}),[]);var E=function(n){y((0,c.Z)((0,c.Z)({},j),{},(0,a.Z)({},n.target.name,n.target.value)))},H=function(){var n=(0,i.Z)((0,o.Z)().mark((function n(e){var t;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t={tokens:(0,r.Z)(b),title:j.title,body:j.body},(0,h.DD)(t,(function(n,e){return n?(_({success:e.response.success,failure:e.response.failure}),T(!0)):m.Am.error("\u062e\u0637\u0627 \u062f\u0631 \u0627\u0631\u0633\u0627\u0644 \u0627\u0639\u0644\u0627\u0646")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),M=I.filter((function(n){return!b.includes(n)}));return(0,g.jsxs)(d.Z,{onSubmit:H,className:p.formContainer,children:[(0,g.jsxs)(d.Z.Group,{className:"mb-3 w-100",controlId:"exampleForm.ControlInput1",children:[(0,g.jsx)(u.Z,{mode:"multiple",placeholder:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631",value:b,onChange:x,style:{width:"100%",margin:"1rem 0",textAlign:"right"},options:M.map((function(n){return{value:n.web_notification_token,label:n.mobileNumber}}))}),(0,g.jsx)(d.Z.Control,{onChange:E,value:j.title,type:"text",name:"title",dir:"rtl",placeholder:"\u0646\u0627\u0645 \u067e\u06cc\u0627\u0645",className:"w-100"})]}),(0,g.jsx)(d.Z.Group,{className:"mb-3 w-100",controlId:"exampleForm.ControlTextarea1",children:(0,g.jsx)(d.Z.Control,{onChange:E,value:j.body,as:"textarea",name:"body",dir:"rtl",placeholder:"\u0645\u062a\u0646 \u067e\u06cc\u0627\u0645",className:"w-100",rows:3,style:{resize:"none"}})}),(0,g.jsx)("div",{className:"col-md-2 w-100 d-flex justify-content-end mt-3 ",children:(0,g.jsx)(l.Z,{type:"primary",loading:t,onClick:H,className:"mb-2",children:"\u0627\u0631\u0633\u0627\u0644 \u067e\u06cc\u0627\u0645"})}),G&&(0,g.jsxs)("div",{className:p.showResultContainer,children:[(0,g.jsxs)("p",{children:[" \u0627\u0631\u0633\u0627\u0644 \u0645\u0648\u0641\u0642 : ",S.success," "]}),(0,g.jsxs)("p",{children:[" \u0627\u0631\u0633\u0627\u0644 \u0646\u0627\u0645\u0648\u0641\u0642 : ",S.failure," "]})]})]})}}}]);
//# sourceMappingURL=8164.4a84a463.chunk.js.map